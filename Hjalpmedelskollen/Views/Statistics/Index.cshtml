@model Hjalpmedelskollen.ViewModels.StatisticsViewModel

@{
	ViewData["Title"] = "Statistik";
}

@section Scripts {
	<script src="~/js/statistics.js"></script>
}

	<h2>Statistik över hur hjälpmedels används i @Model.Institution.Name</h2>
<div class="statistics-container">
	<div id="statistics-table-container">
		<table class="table-style" id="statistics-table">
			<thead>
				<tr class="table-header">
					<th>Hjälpmedelskategori</th>
					<th>Alla enheter</th>
					@foreach (var unit in Model.Units)
					{
						<th>@unit.Name</th>
					}
				</tr>
			</thead>
			<tbody>
					@foreach (var category in Model.Categories)
					{
				<tr>
						<td>@category</td>
						<td>@Model.Aids.Count(a => a.Category == category)</td>
						@foreach (var unit in Model.Units)
						{
							<td>@Model.Aids.Count(a => a.Section.UnitId == unit.Id && a.Category == category)</td>
						}
				</tr>
					}
		</table>
	</div>
	<div id="chart-container">
		<canvas id="myPieChart"></canvas>
	</div>
</div>
